# TOWN COUNCIL - ENVIRONMENT CONFIGURATION
# Copy this file to '.env' and change the values for production.

# DATABASE: POSTGRESQL
DATABASE_URL=postgresql://town_council:secure_dev_password@postgres:5432/town_council_db
POSTGRES_USER=town_council
POSTGRES_PASSWORD=secure_dev_password
POSTGRES_DB=town_council_db

# SEARCH: MEILISEARCH
MEILI_HOST=http://meilisearch:7700
MEILI_MASTER_KEY=masterKey

# SECURITY: API KEYS
# Used to protect expensive AI endpoints from unauthorized use.
API_AUTH_KEY=dev_secret_key_change_me

# CORS: Authorized Frontend Domains
# Format: comma-separated list
ALLOWED_ORIGINS=http://localhost:3000

# Grafana admin credentials (local dev)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# FRONTEND (public env vars served to browser code)
NEXT_PUBLIC_API_URL=http://localhost:8000
# Optional: only set if you intentionally allow client-triggered protected actions.
NEXT_PUBLIC_API_AUTH_KEY=

# Milestone C feature flag (API + UI)
FEATURE_TRENDS_DASHBOARD=false
NEXT_PUBLIC_FEATURE_TRENDS_DASHBOARD=false

# Milestone D2-lite inference backend profile
LOCAL_AI_BACKEND=http
LOCAL_AI_HTTP_BASE_URL=http://inference:11434
# Conservative timeout budget accounts for queue wait when inference parallelism is 1.
LOCAL_AI_HTTP_TIMEOUT_SECONDS=60
LOCAL_AI_HTTP_TIMEOUT_SEGMENT_SECONDS=60
LOCAL_AI_HTTP_TIMEOUT_SUMMARY_SECONDS=60
LOCAL_AI_HTTP_TIMEOUT_TOPICS_SECONDS=60
LOCAL_AI_HTTP_MAX_RETRIES=1
LOCAL_AI_HTTP_MODEL=gemma-3-270m-custom
LOCAL_AI_HTTP_PROFILE=conservative
OLLAMA_NUM_PARALLEL=1
WORKER_CONCURRENCY=3
WORKER_POOL=prefork
